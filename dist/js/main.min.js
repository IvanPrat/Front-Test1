function round(a){return Math.round(100*a)/100}function loadTableRowProduct(a,b,c,d){var e="";return e=e+'<div class="table-row js-table-row" data-id-row="'+a+'">',e+='  <div class="table-cell">',e+=b,e+="  </div>",e+='  <div class="table-cell">',e=e+"    &pound;"+c,e+="  </div>",e+='  <div class="table-cell">',e+='    <div class="input-quantity js-quantity">',e+='      <div class="input">',e=e+'        <input type="text" name="quantity[]" value="'+d+'" readonly/>',e+="      </div>",e+='      <div class="input-quantity-buttons">',e+='        <button class="input-quantity-button js-increase-value">+</button>',e+='        <button class="input-quantity-button js-decrease-value">-</button>',e+="      </div>",e+="    </div>",e+="  </div>",e+='  <div class="table-cell">',e=e+'    &pound;<span class="js-cost">'+c*d+"</span>",e+="  </div>",e+='  <div class="table-cell">',e+='    <a href="#" class="icon icon-trash js-remove-product"></a>',e+="  </div>",e+="</div>"}function outputTotalResults(a){$("#subtotal").text(a.subtotal),$("#vat").text(a.vat),$("#total").text(a.total)}function updateValue(a,b){var c=a.closest(".js-quantity").find("input[name='quantity[]']"),d=a.closest(".js-table-row"),e=d.data("id-row"),f=0;f=b?basket.decreaseValue(e,c.val()):basket.increaseValue(e,c.val()),f&&(d.find(".js-cost").html(round(items[e].price*f)),c.val(f))}$(function(){$.each(items,function(a,b){$(".js-table-products").append(loadTableRowProduct(a,b.name,b.price,b.quantity))}),outputTotalResults(basket.updateResults()),$("body").on("click",".js-increase-value",function(){updateValue($(this),!1)}),$("body").on("click",".js-decrease-value",function(){updateValue($(this),!0)}),$("body").on("click",".js-remove-product",function(){var a=$(this).closest(".js-table-row"),b=a.data("id-row");basket.removeProduct(b)&&a.remove(),$(".js-table-row").length||$("#buy-now").attr("disabled",!0)}),$("#buy-now").click(function(){basket.buyProduct(items,"")})});